#!/bin/bash

RPC_URL="https://arb1.arbitrum.io/rpc"
POOL_POSITION_PURCHASER=0x0dbbeda1fa6b4ca86d04fb4b283e6ebb4365d00e
POOL_TOKEN_ADDRESS=0x6e5f70E345b4aFd271491290e026dd3d34CBb9f2
PRICE_UTILS_ADDRESS=0x420bb98f7f5d6b9987335eaef867a6b46d845209
LEVERAGED_POOL_ADDRESS=0x3aca4f1b1791d00ebbae01d65e9739c9c886f33c
TRACKING_TOKEN_ADDRESS=0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f
POOL_COMMITTER_ADDRESS=0xf52a27de6777a943f3ee19b7804f54c67bf64f72
USDC_ADDRESS=0xff970a61a04b1ca14834a43f5de4533ebddb5cc8
PERP_POOL_UTILS_ADDRESS=0xe4b047a5e1d66908de445c6d8b2562614c0229d9

forge create \
	--rpc-url $RPC_URL \
	--private-key=$PRIVATE_KEY \
	--constructor-args \
		$POOL_POSITION_PURCHASER \
		$POOL_TOKEN_ADDRESS \
		$PRICE_UTILS_ADDRESS \
		$LEVERAGED_POOL_ADDRESS \
		$TRACKING_TOKEN_ADDRESS \
		$POOL_COMMITTER_ADDRESS \
		$USDC_ADDRESS \
		$PERP_POOL_UTILS_ADDRESS \
	--verify \
	--etherscan-api-key=$ETHERSCAN_API_KEY \
	src/PerpPoolPositionManager.sol:PerpPoolPositionManager
